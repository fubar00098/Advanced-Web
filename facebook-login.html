<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Facebook</title>
<script type="text/javascript">
function login(){
	FB.login(function(response){
		loginStatusCallback(response);
	}, {scope:"user_posts"});
}
function start(){
	// 取得使用者的個人資料
	// 在最新的 API 版本中，需明確指定 fields 以取得更多資料
	FB.api("/me", function(response){
		console.log(response);
	})
	// 取得使用者的塗鴉牆資料
	// 在最新的 API 版本中，需明確指定 fields 以取得更多資料
	FB.api("/me/feed", {fields:"likes"}, function(response){
		console.log(response);
	});
}
function loginStatusCallback(response){ // 偵測使用者登入狀態的回呼函式
	var main=document.getElementById("main");
	var login=document.getElementById("login");
	main.style.display="none";
	login.style.display="none";
	if(response.status=="connected"){ // 已授權
		main.style.display="block";
		start();
	}else{ // 未授權或未登入
		login.style.display="block";
	}
}
// 2. Facebook SDK 載入後，呼叫此函式
window.fbAsyncInit=function(){
	FB.init({
		appId      : '1797816097151582',
		cookie     : true,
		xfbml      : true,  // parse social plugins on this page
		version    : 'v2.4' // use version 2.1
	});
	// 3. 開始偵測使用者的登入狀況
	FB.getLoginStatus(function(response){
		loginStatusCallback(response);
	});
}
// 1. 網頁載入後，開始載入 Facebook SDK
window.onload=function(){
	(function(d, s, id){
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) return;
		js = d.createElement(s); js.id = id;
		js.src = "//connect.facebook.net/en_US/sdk.js";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
}
</script>
</head>
<body>
<div id="login" style="display:none;">
	<button onclick="login();">Login</button>
</div>
<div id="main" style="display:none;"></div>
</body>
</html>




